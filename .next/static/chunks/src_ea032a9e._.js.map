{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,qKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,qKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,qKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,qKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,qKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,qKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,qKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,sKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,sKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/AppSidebar.tsx"],"sourcesContent":["\n\"use client\";\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport * as React from 'react'; // Changed import\nimport {\n  HeartPulse,\n  LayoutDashboard,\n  Users,\n  Settings,\n  Menu,\n  Stethoscope,\n  Heart,\n  Sparkles,\n  LogIn,\n  LogOut,\n  ChevronDown,\n  ChevronUp,\n  Search as SearchIcon,\n  PanelLeftClose,\n  PanelLeftOpen,\n  Briefcase, // Placeholder for Patient Records\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { useUser, type User as AppUserType } from \"@/context/UserContext\"; // Renamed User to AppUserType\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\n\ntype AppUserRole = 'ADMINISTRATOR' | 'PRACTICE_ADMINISTRATOR' | 'CLIENT';\n\ninterface NavItem {\n  title: string;\n  href?: string;\n  icon: React.ElementType;\n  keywords?: string[];\n  active?: boolean;\n  roles: AppUserRole[];\n  submenu?: SubmenuItem[];\n  onClick?: () => void;\n}\n\ninterface SubmenuItem {\n  title: string;\n  href: string;\n  icon?: React.ElementType;\n  keywords?: string[];\n  active?: boolean;\n  roles?: AppUserRole[];\n}\n\ninterface AppSidebarProps {\n  isCollapsed: boolean;\n  onToggleCollapse: () => void;\n}\n\nexport function AppSidebar({ isCollapsed, onToggleCollapse }: AppSidebarProps) {\n  const pathname = usePathname();\n  const { user, logout, isLoading: userIsLoading, initialAuthChecked } = useUser();\n  const [mobileSheetOpen, setMobileSheetOpen] = React.useState(false);\n  const [expandedMenus, setExpandedMenus] = React.useState<Record<string, boolean>>({});\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n\n  const baseNavItems: NavItem[] = React.useMemo(() => [\n    {\n      title: \"Dashboard\",\n      href: user?.role === 'CLIENT' ? \"/client\" : user?.role === 'ADMINISTRATOR' ? \"/administrator\" : user?.role === 'PRACTICE_ADMINISTRATOR' ? \"/practice-administrator\" : \"/auth/login\",\n      icon: LayoutDashboard,\n      keywords: [\"home\", \"main\", \"overview\"],\n      roles: ['ADMINISTRATOR', 'PRACTICE_ADMINISTRATOR', 'CLIENT']\n    },\n    {\n      title: \"Services\",\n      href: \"/\",\n      icon: Stethoscope,\n      keywords: [\"offerings\", \"treatments\", \"procedures\", \"vet\"],\n      roles: ['ADMINISTRATOR', 'PRACTICE_ADMINISTRATOR', 'CLIENT']\n    },\n    {\n      title: \"Favorites\",\n      href: \"/favorites\",\n      icon: Heart,\n      keywords: [\"saved\", \"bookmarked\", \"liked\", \"pets\"],\n      roles: ['CLIENT']\n    },\n    {\n      title: \"Symptom Checker\",\n      href: \"/symptom-checker\",\n      icon: Sparkles,\n      keywords: [\"ai\", \"diagnosis\", \"assessment\", \"pet health\", \"check\"],\n      roles: ['CLIENT']\n    },\n    {\n      title: \"User Management\",\n      icon: Users,\n      href: \"/user-management\",\n      keywords: [\"users\", \"permissions\", \"accounts\", \"staff\", \"clients\", \"admin\"],\n      roles: ['ADMINISTRATOR'],\n      submenu: [\n        { title: \"View Users\", href: \"/user-management/view\", keywords: [\"list\", \"all users\"], roles: ['ADMINISTRATOR'] },\n        { title: \"Add User\", href: \"/user-management/add\", keywords: [\"new user\", \"create account\"], roles: ['ADMINISTRATOR'] },\n      ]\n    },\n    {\n      title: \"Patient Records\",\n      icon: Briefcase,\n      keywords: [\"patients\", \"medical history\", \"charts\", \"records\"],\n      roles: ['ADMINISTRATOR', 'PRACTICE_ADMINISTRATOR'],\n      submenu: [\n        { title: \"Search Patients\", href: \"/patients/search\", keywords: [\"find patient\", \"lookup\"] },\n        { title: \"New Patient\", href: \"/patients/new\", keywords: [\"add patient\", \"register patient\"] },\n      ],\n    },\n    {\n      title: \"Settings\",\n      href: \"/settings\",\n      icon: Settings,\n      keywords: [\"options\", \"configuration\", \"preferences\", \"profile\", \"account\"],\n      roles: ['ADMINISTRATOR', 'PRACTICE_ADMINISTRATOR', 'CLIENT'],\n    },\n  ], [user]);\n\n  const filteredNavItems = React.useMemo(() => {\n    if (!user?.role && !userIsLoading && initialAuthChecked) {\n      return [\n        {\n          title: \"Login\",\n          href: \"/auth/login\",\n          icon: LogIn,\n          roles: [] as AppUserRole[],\n          keywords: [\"signin\", \"access account\"],\n        },\n      ];\n    }\n    if (!user?.role) return [];\n\n    const lowerSearchTerm = searchTerm.toLowerCase();\n    \n    return baseNavItems.filter(item => {\n      const hasRole = item.roles.includes(user.role as AppUserRole);\n      if (!hasRole) return false;\n      if (!searchTerm) return true;\n\n      const matchesTitle = item.title.toLowerCase().includes(lowerSearchTerm);\n      const matchesKeywords = item.keywords?.some(k => k.toLowerCase().includes(lowerSearchTerm));\n      const matchesSubmenu = item.submenu?.some(sub => \n        sub.title.toLowerCase().includes(lowerSearchTerm) || \n        sub.keywords?.some(sk => sk.toLowerCase().includes(lowerSearchTerm))\n      );\n      return matchesTitle || matchesKeywords || matchesSubmenu;\n    }).map(item => {\n      if (searchTerm && item.submenu) {\n        const filteredSubmenu = item.submenu.filter(sub => \n            sub.title.toLowerCase().includes(lowerSearchTerm) ||\n            (sub.keywords && sub.keywords.some(sk => sk.toLowerCase().includes(lowerSearchTerm)))\n        );\n        if (filteredSubmenu.length > 0) {\n            return {...item, submenu: filteredSubmenu};\n        } else if (item.title.toLowerCase().includes(lowerSearchTerm) || (item.keywords && item.keywords.some(k => k.toLowerCase().includes(lowerSearchTerm)))) {\n            return item; \n        }\n        return null; \n      }\n      return item;\n    }).filter(item => item !== null) as NavItem[];\n  }, [user, userIsLoading, initialAuthChecked, baseNavItems, searchTerm]);\n\n\n  React.useEffect(() => {\n    const newExpandedState: Record<string, boolean> = {};\n    filteredNavItems.forEach(item => {\n      if (item.submenu && item.submenu.length > 0) {\n        const isParentActive = item.href && pathname.startsWith(item.href);\n        const isSubmenuActive = item.submenu.some(subItem => subItem.href && pathname.startsWith(subItem.href));\n        if (isParentActive || isSubmenuActive || searchTerm) { // Keep expanded if searching and parent is visible\n          newExpandedState[item.title] = true;\n        }\n      }\n    });\n    setExpandedMenus(newExpandedState);\n  }, [pathname, filteredNavItems, searchTerm]);\n\n\n  const toggleMenu = (title: string) => {\n    setExpandedMenus(prev => ({\n      ...prev,\n      [title]: !prev[title]\n    }));\n  };\n\n  const getInitials = (emailOrName: string | undefined) => {\n    if (!emailOrName) return 'U';\n    const parts = emailOrName.split(' ');\n    if (parts.length > 1 && parts[0] && parts[parts.length - 1]) {\n      return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();\n    }\n    return emailOrName.substring(0, 2).toUpperCase();\n  };\n\n  const renderNavItems = React.useCallback(({ currentViewCollapsed }: { currentViewCollapsed: boolean }) => {\n    return filteredNavItems.map((item) => {\n      const subItemsToShow = item.submenu?.filter(subItem => \n        !subItem.roles || (user?.role && subItem.roles.includes(user.role as AppUserRole))\n      ) || [];\n\n      const isActive = item.href ? (item.href === '/' ? pathname === '/' : pathname.startsWith(item.href)) : false;\n      const isSubmenuPotentiallyActive = item.submenu?.some(subItem => subItem.href && pathname.startsWith(subItem.href));\n      const isMenuExpanded = expandedMenus[item.title] || false;\n\n      const linkContent = (\n        <>\n          <item.icon className={cn(\"h-5 w-5\", currentViewCollapsed ? \"mx-auto\" : \"mr-3 shrink-0\")} />\n          {!currentViewCollapsed && <span className=\"truncate flex-1\">{item.title}</span>}\n          {!currentViewCollapsed && subItemsToShow.length > 0 && (\n            isMenuExpanded ? <ChevronUp className=\"h-4 w-4 ml-auto opacity-70 shrink-0\" /> : <ChevronDown className=\"h-4 w-4 ml-auto opacity-70 shrink-0\" />\n          )}\n        </>\n      );\n\n      const buttonOrLink = item.href && subItemsToShow.length === 0 ? (\n        <Link \n          href={item.href}\n          onClick={() => setMobileSheetOpen(false)}\n          className={cn(\n            \"flex items-center w-full text-sm font-medium rounded-md px-3 py-2.5 transition-colors duration-150\",\n            \"group\",\n            isActive ? \"bg-primary/10 text-primary\" : \"text-foreground/70 hover:bg-accent hover:text-accent-foreground\",\n            currentViewCollapsed && \"justify-center py-3\"\n          )}\n        >\n          {linkContent}\n        </Link>\n      ) : (\n        <Button\n          variant=\"ghost\"\n          onClick={() => {\n            if (subItemsToShow.length > 0) {\n              toggleMenu(item.title);\n            } else if (item.href) {\n              setMobileSheetOpen(false);\n              // router.push(item.href); // No direct router push here, Link handles it\n            } else if (item.onClick) {\n                item.onClick();\n            }\n          }}\n          className={cn(\n            \"flex items-center w-full text-sm font-medium rounded-md px-3 py-2.5 transition-colors duration-150\",\n            \"group justify-start text-left\",\n            (isActive || (isMenuExpanded && isSubmenuPotentiallyActive)) ? \"bg-primary/10 text-primary\" : \"text-foreground/70 hover:bg-accent hover:text-accent-foreground\",\n            currentViewCollapsed && \"justify-center py-3\"\n          )}\n          aria-expanded={subItemsToShow.length > 0 ? isMenuExpanded : undefined}\n        >\n          {linkContent}\n        </Button>\n      );\n\n      return (\n        <div key={item.title} className=\"w-full\">\n          {currentViewCollapsed ? (\n            <TooltipProvider delayDuration={0}>\n              <Tooltip>\n                <TooltipTrigger asChild>{buttonOrLink}</TooltipTrigger>\n                <TooltipContent side=\"right\" className=\"ml-2\">\n                  <p>{item.title}</p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n          ) : (\n            buttonOrLink\n          )}\n          \n          {!currentViewCollapsed && subItemsToShow.length > 0 && isMenuExpanded && (\n            <div className=\"mt-1 space-y-1 pl-8 pr-2 py-1 border-l border-border/50 ml-[1.125rem] mr-1\">\n              {subItemsToShow.map((subItem) => {\n                const isSubItemActive = subItem.href && pathname.startsWith(subItem.href);\n                return (\n                    <Link\n                      key={subItem.href}\n                      href={subItem.href}\n                      onClick={() => setMobileSheetOpen(false)}\n                      className={cn(\n                        \"flex items-center w-full text-xs font-medium rounded-md px-3 py-2 transition-colors duration-150\",\n                        \"group\",\n                        isSubItemActive ? \"text-primary\" : \"text-foreground/60 hover:text-primary hover:bg-primary/5\"\n                      )}\n                    >\n                     {subItem.icon && <subItem.icon className=\"mr-2 h-4 w-4 shrink-0\" />}\n                     <span className=\"truncate\">{subItem.title}</span>\n                    </Link>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      );\n    });\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filteredNavItems, pathname, expandedMenus, user, toggleMenu]); // Added toggleMenu to deps\n\n  const renderSidebarContent = ({ effectiveIsCollapsed }: { effectiveIsCollapsed: boolean }) => (\n    <div className={cn(\"flex flex-col h-full bg-card border-r border-border\", effectiveIsCollapsed ? \"items-center\" : \"\")}>\n      <div className={cn(\"flex h-16 items-center border-b border-border shrink-0\", effectiveIsCollapsed ? \"justify-center px-2\" : \"px-4\")}>\n        <Link href=\"/\" className=\"flex items-center gap-2 font-semibold\" onClick={() => setMobileSheetOpen(false)}>\n          <HeartPulse className=\"h-7 w-7 text-primary shrink-0\" />\n          {!effectiveIsCollapsed && (\n            <h1 className=\"text-xl\">\n               <span className=\"text-foreground\">Smart</span><span className=\"text-primary\">DVM</span>\n            </h1>\n          )}\n        </Link>\n      </div>\n\n      {!effectiveIsCollapsed && (\n        <div className=\"p-3 border-b border-border\">\n          <div className=\"relative\">\n            <SearchIcon className=\"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input\n              type=\"search\"\n              placeholder=\"Search menu...\"\n              className=\"pl-9 h-9 text-sm\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n        </div>\n      )}\n      {effectiveIsCollapsed && (\n         <TooltipProvider delayDuration={0}>\n            <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" size=\"icon\" className=\"my-3 h-9 w-9 text-muted-foreground hover:text-primary\" onClick={onToggleCollapse}>\n                        <SearchIcon className=\"h-5 w-5\" />\n                    </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"right\" className=\"ml-2\">\n                    <p>Search (Expand Sidebar)</p>\n                </TooltipContent>\n            </Tooltip>\n        </TooltipProvider>\n      )}\n\n      <nav className=\"flex-1 overflow-y-auto overflow-x-hidden py-3 space-y-1 px-2\">\n        {renderNavItems({ currentViewCollapsed: effectiveIsCollapsed })}\n      </nav>\n\n      {user && initialAuthChecked && (\n        <div className={cn(\"border-t border-border p-3 shrink-0\", effectiveIsCollapsed && \"py-3\")}>\n          <div className={cn(\"flex items-center gap-3\", effectiveIsCollapsed ? \"justify-center flex-col\" : \"\")}>\n            <Avatar className=\"h-9 w-9 shrink-0\">\n              <AvatarFallback className=\"bg-primary text-primary-foreground text-sm\">\n                {getInitials(user.name || user.email)}\n              </AvatarFallback>\n            </Avatar>\n            {!effectiveIsCollapsed && (\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-foreground truncate\">{user.name || user.email}</p>\n                <p className=\"text-xs text-muted-foreground truncate\">{user.role}</p>\n              </div>\n            )}\n             <TooltipProvider delayDuration={0}>\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Button variant=\"ghost\" size=\"icon\" className={cn(\"text-muted-foreground hover:text-destructive shrink-0\", effectiveIsCollapsed ? \"h-9 w-9\" : \"h-8 w-8\")} onClick={logout}>\n                            <LogOut className=\"h-4 w-4\" />\n                        </Button>\n                    </TooltipTrigger>\n                    {!effectiveIsCollapsed && <span className=\"sr-only\">Logout</span>}\n                    {effectiveIsCollapsed && <TooltipContent side=\"right\" className=\"ml-2\"><p>Logout</p></TooltipContent>}\n                </Tooltip>\n            </TooltipProvider>\n          </div>\n        </div>\n      )}\n      {(userIsLoading && !initialAuthChecked) && (\n         <div className={cn(\"border-t p-4 text-center text-sm text-muted-foreground\", effectiveIsCollapsed && \"py-3\")}>Loading user...</div>\n      )}\n       <div className={cn(\"border-t border-border p-2 shrink-0\", effectiveIsCollapsed ? \"py-2\" : \"\")}>\n        <TooltipProvider delayDuration={0}>\n            <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"w-full justify-center text-muted-foreground hover:text-primary\" onClick={onToggleCollapse}>\n                        {effectiveIsCollapsed ? <PanelLeftOpen className=\"h-5 w-5\" /> : <PanelLeftClose className=\"h-5 w-5\" />}\n                    </Button>\n                </TooltipTrigger>\n                {!effectiveIsCollapsed && <span className=\"sr-only\">{effectiveIsCollapsed ? \"Expand Sidebar\" : \"Collapse Sidebar\"}</span>}\n                 {effectiveIsCollapsed && <TooltipContent side=\"right\" className=\"ml-2\"><p>{effectiveIsCollapsed ? \"Expand Sidebar\" : \"Collapse Sidebar\"}</p></TooltipContent>}\n            </Tooltip>\n        </TooltipProvider>\n      </div>\n    </div>\n  );\n\n  return (\n    <>\n      <div className={cn(\"hidden md:block\", isCollapsed ? \"w-20\" : \"w-64\", \"fixed left-0 top-0 h-full z-30 transition-all duration-300 ease-in-out\")}>\n        {renderSidebarContent({ effectiveIsCollapsed: isCollapsed })}\n      </div>\n      <div className=\"md:hidden fixed top-3 left-3 z-40\"> \n         <Sheet open={mobileSheetOpen} onOpenChange={setMobileSheetOpen}>\n          <SheetTrigger asChild>\n            <Button variant=\"outline\" size=\"icon\" className=\"h-10 w-10 p-0 bg-card shadow-md\">\n              <Menu className=\"h-6 w-6\" />\n              <span className=\"sr-only\">Toggle Menu</span>\n            </Button>\n          </SheetTrigger>\n          <SheetContent side=\"left\" className=\"w-[300px] sm:w-[340px] p-0 flex flex-col bg-card border-r border-border\">\n            {renderSidebarContent({ effectiveIsCollapsed: false })} \n          </SheetContent>\n        </Sheet>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1218, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28main%29/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { AppSidebar } from '@/components/layout/AppSidebar';\nimport { Loader2 } from 'lucide-react';\n\nexport default function MainApplicationLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const toggleSidebarCollapse = () => {\n    setIsSidebarCollapsed(prev => !prev);\n  };\n\n  if (!isMounted) {\n    // You can return a more sophisticated loader here if needed,\n    // but ClientOnlyWrapper in RootLayout might already handle this.\n    // Returning null defers rendering to client-side only.\n    return (\n      <div className=\"flex flex-col justify-center items-center h-screen\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-background\"> {/* Added bg-background here for consistency */}\n      <AppSidebar \n        isCollapsed={isSidebarCollapsed} \n        onToggleCollapse={toggleSidebarCollapse} \n      />\n      <main \n        className={`flex-1 pt-16 md:pt-0 transition-all duration-300 ease-in-out ${\n          isSidebarCollapsed ? 'md:ml-20' : 'md:ml-64'\n        }`}\n      >\n        {/* Add a container for consistent padding, or apply directly */}\n        <div className=\"p-4 sm:p-6 md:p-8\">\n          {children}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,sBAAsB,EAC5C,QAAQ,EAGT;;IACC,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2CAAE;YACR,aAAa;QACf;0CAAG,EAAE;IAEL,MAAM,wBAAwB;QAC5B,sBAAsB,CAAA,OAAQ,CAAC;IACjC;IAEA,IAAI,CAAC,WAAW;QACd,6DAA6D;QAC7D,iEAAiE;QACjE,uDAAuD;QACvD,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,oNAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;;;;;;IAGzB;IAEA,qBACE,6LAAC;QAAI,WAAU;;YAAkC;0BAC/C,6LAAC,6IAAA,CAAA,aAAU;gBACT,aAAa;gBACb,kBAAkB;;;;;;0BAEpB,6LAAC;gBACC,WAAW,CAAC,6DAA6D,EACvE,qBAAqB,aAAa,YAClC;0BAGF,cAAA,6LAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAKX;GA7CwB;KAAA","debugId":null}}]
}