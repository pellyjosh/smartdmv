{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28main%29/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\nimport { useUser } from '@/context/UserContext';\nimport { Loader2 } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport { useEffect } from 'react';\n\nconst PublicHomePageContent = () => (\n  <div className=\"text-center\">\n    <h1 className=\"text-4xl font-bold tracking-tight text-primary sm:text-6xl\">\n      Welcome to <span className=\"text-foreground\">Smart</span><span className=\"text-primary\">DVM</span>\n    </h1>\n    <p className=\"mt-6 text-lg leading-8 text-foreground\">\n      Your trusted partner in pet health management. Please log in to access your dashboard.\n    </p>\n    <div className=\"mt-10 flex items-center justify-center gap-x-6\">\n      <Button asChild>\n        <Link href=\"/auth/login\">Login</Link>\n      </Button>\n    </div>\n  </div>\n);\n\nexport default function HomePage() {\n  const { user, isLoading, initialAuthChecked } = useUser();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!isLoading && initialAuthChecked && user) {\n      // User is authenticated, redirect to their dashboard\n      switch (user.role) {\n        case 'CLIENT':\n          router.replace('/client');\n          break;\n        case 'ADMINISTRATOR':\n          router.replace('/administrator');\n          break;\n        case 'PRACTICE_ADMINISTRATOR':\n          router.replace('/practice-administrator');\n          break;\n        default:\n          // Fallback, should not happen if roles are well-defined\n          router.replace('/auth/login'); // Or a generic error page\n          break;\n      }\n    }\n  }, [user, isLoading, initialAuthChecked, router]);\n\n  if (isLoading || !initialAuthChecked) {\n    return (\n      <div className=\"flex flex-col justify-center items-center h-screen\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n        <p className=\"text-lg text-muted-foreground\">Loading, please wait...</p>\n      </div>\n    );\n  }\n\n  // If user is authenticated, they will be redirected by the useEffect above.\n  // Show a loading spinner during this brief redirection phase.\n  if (user) {\n     return (\n      <div className=\"flex flex-col justify-center items-center h-screen\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n        <p className=\"text-lg text-muted-foreground\">Redirecting to your dashboard...</p>\n      </div>\n    );\n  }\n\n  // Only show public content if not loading and no user (unauthenticated)\n  return (\n    <div className=\"container mx-auto py-12\">\n      <PublicHomePageContent />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASA,MAAM,wBAAwB,kBAC5B,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;oBAA6D;kCAC9D,6LAAC;wBAAK,WAAU;kCAAkB;;;;;;kCAAY,6LAAC;wBAAK,WAAU;kCAAe;;;;;;;;;;;;0BAE1F,6LAAC;gBAAE,WAAU;0BAAyC;;;;;;0BAGtD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,qIAAA,CAAA,SAAM;oBAAC,OAAO;8BACb,cAAA,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;kCAAc;;;;;;;;;;;;;;;;;;;;;;KAV3B;AAgBS,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACtD,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,IAAI,CAAC,aAAa,sBAAsB,MAAM;gBAC5C,qDAAqD;gBACrD,OAAQ,KAAK,IAAI;oBACf,KAAK;wBACH,OAAO,OAAO,CAAC;wBACf;oBACF,KAAK;wBACH,OAAO,OAAO,CAAC;wBACf;oBACF,KAAK;wBACH,OAAO,OAAO,CAAC;wBACf;oBACF;wBACE,wDAAwD;wBACxD,OAAO,OAAO,CAAC,gBAAgB,0BAA0B;wBACzD;gBACJ;YACF;QACF;6BAAG;QAAC;QAAM;QAAW;QAAoB;KAAO;IAEhD,IAAI,aAAa,CAAC,oBAAoB;QACpC,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,oNAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;8BACnB,6LAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;IAGnD;IAEA,4EAA4E;IAC5E,8DAA8D;IAC9D,IAAI,MAAM;QACP,qBACC,6LAAC;YAAI,WAAU;;8BACb,6LAAC,oNAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;8BACnB,6LAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;IAGnD;IAEA,wEAAwE;IACxE,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;;;;;;;;;;AAGP;GAnDwB;;QAC0B,iIAAA,CAAA,UAAO;QACxC,qIAAA,CAAA,YAAS;;;MAFF","debugId":null}}]
}