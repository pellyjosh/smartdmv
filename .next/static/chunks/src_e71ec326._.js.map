{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28main%29/administrator/page.tsx"],"sourcesContent":["\n\"use client\";\nimport { useUser, type AdministratorUser } from \"@/context/UserContext\";\nimport { Button } from \"@/components/ui/button\";\nimport { useRouter } from \"next/navigation\"; // Import useRouter\nimport { useEffect, useState } from \"react\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Loader2 } from 'lucide-react';\n\nexport default function AdministratorDashboardPage() {\n  const { user, logout, isLoading, initialAuthChecked, switchPractice } = useUser();\n  const router = useRouter(); // Initialize useRouter\n  const [currentPracticeSelection, setCurrentPracticeSelection] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    if (user && user.role === 'ADMINISTRATOR') {\n      const adminUser = user as AdministratorUser;\n      if (adminUser.currentPracticeId && adminUser.currentPracticeId !== currentPracticeSelection) {\n        setCurrentPracticeSelection(adminUser.currentPracticeId);\n      }\n    }\n  }, [user, currentPracticeSelection]);\n\n  if (isLoading || !initialAuthChecked) {\n    return (\n      <div className=\"flex flex-col justify-center items-center h-screen\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n        <p className=\"text-lg text-muted-foreground\">Loading, please wait...</p>\n      </div>\n    );\n  }\n\n  if (!user) {\n    // User is not authenticated, UserContext or middleware should handle redirect to login\n    return (\n      <div className=\"flex flex-col justify-center items-center h-screen\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n        <p className=\"text-lg text-muted-foreground\">Redirecting to login...</p>\n      </div>\n    );\n  }\n\n  if (user.role !== 'ADMINISTRATOR') {\n     // Role mismatch, redirect to access-denied page\n     router.push('/access-denied');\n     return ( // Return a loader while redirecting\n      <div className=\"flex flex-col justify-center items-center h-screen\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n        <p className=\"text-lg text-muted-foreground\">Redirecting...</p>\n      </div>\n    );\n  }\n\n  const adminUser = user as AdministratorUser;\n\n  const handlePracticeChange = async (newPracticeId: string) => {\n    if (switchPractice && adminUser) {\n      await switchPractice(newPracticeId);\n      // currentPracticeSelection will update via useEffect when `user` (and thus adminUser.currentPracticeId) changes\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto py-8\">\n      <header className=\"mb-8 flex justify-between items-center\">\n        <div>\n            <h1 className=\"text-3xl font-bold text-primary\">Administrator Dashboard</h1>\n            {adminUser && (\n              <div className=\"mt-2\">\n                <span className=\"text-sm text-muted-foreground mr-2\">Viewing Practice:</span>\n                <Select\n                    value={currentPracticeSelection || adminUser.currentPracticeId || ''}\n                    onValueChange={handlePracticeChange}\n                    disabled={isLoading}\n                >\n                  <SelectTrigger className=\"w-[280px]\">\n                    <SelectValue placeholder=\"Select practice to view\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {adminUser.accessiblePracticeIds && adminUser.accessiblePracticeIds.length > 0 ?\n                        adminUser.accessiblePracticeIds.map(practiceId => (\n                          <SelectItem key={practiceId} value={practiceId}>\n                            {practiceId ? practiceId.replace('practice_', '') : 'Unnamed Practice'}\n                          </SelectItem>\n                        )) :\n                        <SelectItem value=\"none\" disabled>No practices accessible</SelectItem>\n                    }\n                    {(!adminUser.accessiblePracticeIds || adminUser.accessiblePracticeIds.length === 0) && adminUser.currentPracticeId === \"practice_NONE\" && (\n                         <SelectItem value=\"practice_NONE\" disabled>No practices configured</SelectItem>\n                    )}\n                  </SelectContent>\n                </Select>\n              </div>\n            )}\n        </div>\n        <Button onClick={logout} variant=\"outline\" disabled={isLoading}>Logout</Button>\n      </header>\n      <p className=\"text-lg text-foreground\">Welcome, Administrator {adminUser.name || adminUser.email}!</p>\n      <p className=\"text-muted-foreground\">\n        You are currently managing: <span className=\"font-semibold\">\n          {(adminUser.currentPracticeId && adminUser.currentPracticeId !== \"practice_NONE\") ? adminUser.currentPracticeId.replace('practice_', '') : 'N/A'}\n        </span>.\n      </p>\n      <p className=\"text-sm text-muted-foreground\">\n        Accessible practices: {adminUser.accessiblePracticeIds && adminUser.accessiblePracticeIds.length > 0\n          ? adminUser.accessiblePracticeIds.map(id => id ? id.replace('practice_', '') : 'Unknown').join(', ')\n          : 'No other practices accessible'}\n      </p>\n      {/* Add administrator-specific components and features here, filtered by adminUser.currentPracticeId */}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}